(function() {
  var Element, Promise, debug, util,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  util = require("util");

  debug = require("debug")("vsproj:element");

  Promise = require("bluebird");

  Element = (function() {
    function Element(data) {
      this.push = __bind(this.push, this);
      this.getElementsByName = __bind(this.getElementsByName, this);
      this.getElement = __bind(this.getElement, this);
      var o;
      this.elements = [];
      if (data != null) {
        for (o in data) {
          this[o] = data[o];
        }
      }
    }

    Element.prototype.getElement = function(name) {
      var e, _i, _len, _ref;
      _ref = this.elements;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        e = _ref[_i];
        if (e.name === name) {
          return e;
        }
      }
    };

    Element.prototype.getElementsByName = function(name) {
      return new Promise((function(_this) {
        return function(resolve, reject) {
          var e, r, _i, _len, _ref;
          debug("getElementsByName " + name);
          r = [];
          _ref = _this.elements;
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            e = _ref[_i];
            if (e.name === name) {
              r.push(e);
            }
          }
          debug("getElementsByName " + name + " total: " + r.length);
          return resolve(r);
        };
      })(this));
    };

    Element.prototype.push = function() {
      return this.elements.push.apply(this.elements, arguments);
    };

    return Element;

  })();

  module.exports = Element;

}).call(this);
